<!DOCTYPE html>
<html lang="es">
    <head>
        <meta charset="utf-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1" />
        <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3" crossorigin="anonymous" />
        <link href="style.css" rel="stylesheet" />
        <title>Evaluación Nº1</title>
    </head>
    <body>
        <nav class="fixed-top container">
            <div class="row pt-2">
                <div class="col">
                    <h3 class="fs-6 d-flex justify-content-between align-items-center"><span>Evaluación</span> <span>Nº1</span></h3>
                </div>
            </div>
        </nav>
        <header class="container-fluid" id="fondo-con-imagen">
            <div class="row h-100">
                <div class="div text-center my-5">
                    <h1>Población por sexo y regiones</h1>
                    <h2>CENSO 2017</h2>
                </div>
            </div>
        </header>
        <section class="container py-3">
            <div class="row py-4">
                <div class="col-sm-10 col-md-8 mx-auto">
                    <p>

En 2017 se censaron 8.601.989 hombres y 8.972.014 mujeres, lo que
representa un Índice de Masculinidad de 95,9, vale decir, hay 96 hombres
por cada 100 mujeres. En la tabla 1 se puede observar que las regiones
con mayores índices de masculinidad son contiguas; esto ocurre tanto
en el sur austral como el norte grande del país. Así, en Tarapacá (167.793
hombres y 162.765 mujeres), Antofagasta (315.014 hombres y 292.520
mujeres) y Atacama (144.420 hombres y 141.748 mujeres), el Índice de
Masculinidad llega a valores sobre 100, lo que podría explicarse por la
preponderancia de la actividad minera en la zona. 

                    </p>

                    <canvas id="misBarritas" width="100" height="70" class="my-5"></canvas>
                    
 <p>Las regiones que más hombres
concentran en términos
porcentuales son Aysén, con
52,0%, y Antofagasta, con
51,9%, mientras que el Biobío
es la que menor porcentaje de
hombres tiene, con 48,3%.</p>

                    <p>Aysén (53.647 hombres y 49.511 mujeres) y Magallanes (85.249 hombres
y 81.284 mujeres) también presentan valores del Índice de Masculinidad
sobre 100. </p>

   <canvas id="misBarritasDOS" width="100" height="70" class="my-5"></canvas>
                    
                  
 <p>
En contraste, las regiones con el Índice de Masculinidad más bajo son el
Biobío (750.730 hombres y 806.075 mujeres), Ñuble (232.587 hombres
y 248.022 mujeres) y Valparaíso (880.215 hombres y 935.687 mujeres)</p>


                    <!--En el siguiente SVG me aprovecho del "clip path", fíjense en los dos últimos dígitos del viewBox y los valores en width y height de la imagen que se recorta con el path: Deben ser los mismos. Pero la imagen originalmente vinculada tendría que ser más grande por asuntos de resolución -->

                    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 200 200" class="my-3 mx-3 movido" style="align-items:center !important; vertical-align: center !important;" >
                        <defs>
                            <clipPath id="recorte">
                                <path d="M 112.6 143.74 l -4.81 -19.87 c -0.53 -2.18 -1.24 -5.76 -1.59 -8 l -2.65 -16.77 l -1 1.38 a 25 25 0 0 0 -3 6.3 l -1 3.52 l 4.07 10.46 c 0.81 2.08 2 5.5 2.7 7.63 l 5.75 18 a 1.12 1.12 0 0 0 0.31 0.54 l 0.1 -0.07 A 3.38 3.38 0 0 0 112.6 143.74 Z m 0 0 l -4.81 -19.87 c -0.53 -2.18 -1.24 -5.76 -1.59 -8 l -2.65 -16.77 l -1 1.38 a 25 25 0 0 0 -3 6.3 l -1 3.52 l 4.07 10.46 c 0.81 2.08 2 5.5 2.7 7.63 l 5.75 18 a 1.12 1.12 0 0 0 0.31 0.54 l 0.1 -0.07 A 3.38 3.38 0 0 0 112.6 143.74 Z m 0 0 l -4.81 -19.87 c -0.53 -2.18 -1.24 -5.76 -1.59 -8 l -2.65 -16.77 l -1 1.38 a 25 25 0 0 0 -3 6.3 l -1 3.52 l 4.07 10.46 c 0.81 2.08 2 5.5 2.7 7.63 l 5.75 18 a 1.12 1.12 0 0 0 0.31 0.54 l 0.1 -0.07 A 3.38 3.38 0 0 0 112.6 143.74 Z m 0 0 l -4.81 -19.87 c -0.53 -2.18 -1.24 -5.76 -1.59 -8 l -2.65 -16.77 l -1 1.38 a 25 25 0 0 0 -3 6.3 l -1 3.52 l 4.07 10.46 c 0.81 2.08 2 5.5 2.7 7.63 l 5.75 18 a 1.12 1.12 0 0 0 0.31 0.54 l 0.1 -0.07 A 3.38 3.38 0 0 0 112.6 143.74 Z M 86.5 0 A 86.5 86.5 0 1 0 173 86.5 A 86.5 86.5 0 0 0 86.5 0 Z m 6.31 24.5 A 8.46 8.46 0 1 1 84.35 33 A 8.47 8.47 0 0 1 92.81 24.5 Z M 79.57 28 a 2.5 2.5 0 0 1 1.08 4.89 A 3.45 3.45 0 0 0 78 37 a 3.48 3.48 0 0 0 4.12 2.64 a 2.5 2.5 0 1 1 1.08 4.88 a 8.86 8.86 0 0 1 -1.84 0.2 a 8.46 8.46 0 0 1 -8.24 -6.64 A 8.48 8.48 0 0 1 79.57 28 Z M 64.76 67.5 l 1.77 -10.67 c 1 -5.76 5.12 -9.75 9.47 -9.09 a 50.42 50.42 0 0 0 12.37 -0.45 l 18.11 -2.92 a 2.5 2.5 0 1 1 0.79 4.93 l -18.1 2.93 a 55.1 55.1 0 0 1 -13.93 0.46 c -1.32 -0.21 -3.27 1.92 -3.77 5 L 69.69 68.32 a 2.51 2.51 0 0 1 -2.47 2.09 l -0.41 0 A 2.5 2.5 0 0 1 64.76 67.5 Z m -4.33 6.65 l 21.2 -5.88 A 12.36 12.36 0 0 0 86.71 65 l 7.86 -9.6 a 2.5 2.5 0 0 1 3.87 3.17 l -7.86 9.6 a 17.09 17.09 0 0 1 -7.61 5 L 61.77 79 a 2.57 2.57 0 0 1 -0.67 0.09 a 2.5 2.5 0 0 1 -0.67 -4.91 Z m 6.73 74.26 a 6.15 6.15 0 0 1 -5.67 3.75 h -0.44 a 6.17 6.17 0 0 1 -5.55 -7.59 l 4.73 -19.75 c 0.18 -0.79 0.39 -1.58 0.6 -2.37 a 34.32 34.32 0 0 0 1.34 -7.12 a 1 1 0 0 1 0 -0.17 l 2.09 -19.27 l 0.37 -13.7 a 2.5 2.5 0 0 1 5 0.13 l -0.37 13.8 s 0 0.07 0 0.1 a 0.33 0.33 0 0 0 0 0.1 l -2.1 19.3 a 38.19 38.19 0 0 1 -1.5 8.09 c -0.19 0.76 -0.39 1.52 -0.57 2.27 l -4.73 19.76 a 1.16 1.16 0 0 0 2.18 0.77 l 9.64 -27.22 A 2.5 2.5 0 1 1 76.89 121 l -9.67 27.32 Z m 47.21 2.66 a 5.2 5.2 0 0 1 -2.9 0.91 a 4.9 4.9 0 0 1 -1.61 -0.27 a 5.68 5.68 0 0 1 -3.44 -3.75 l -5.74 -18 c -0.65 -2.05 -1.82 -5.34 -2.6 -7.34 l -1.62 -4.17 l -7.73 28.32 c -0.87 3.18 -3.88 5.68 -6.85 5.68 a 5.2 5.2 0 0 1 -4 -1.8 a 6.28 6.28 0 0 1 -1.44 -5 l 8.39 -68 a 2.5 2.5 0 0 1 5 0.61 l -8.39 68 a 1.37 1.37 0 0 0 0.22 1 a 0.26 0.26 0 0 0 0.22 0.11 a 2.78 2.78 0 0 0 2 -2 L 94.8 105.49 a 29.58 29.58 0 0 1 3.69 -7.86 l 4.37 -6.24 a 11.17 11.17 0 0 0 1.63 -5.66 l -1 -20 L 102.62 55 a 2.5 2.5 0 0 1 5 -0.42 l 0.9 10.69 s 0 0 0 0 s 0 0 0 0.05 l 1 20.09 a 16.25 16.25 0 0 1 -1.83 7.59 l 3.48 22 c 0.33 2.11 1 5.51 1.51 7.58 l 4.81 19.87 A 8.24 8.24 0 0 1 114.37 151.07 Z m -6.58 -27.2 c -0.53 -2.18 -1.24 -5.76 -1.59 -8 l -2.65 -16.77 l -1 1.38 a 25 25 0 0 0 -3 6.3 l -1 3.52 l 4.07 10.46 c 0.81 2.08 2 5.5 2.7 7.63 l 5.75 18 a 1.12 1.12 0 0 0 0.31 0.54 l 0.1 -0.07 a 3.38 3.38 0 0 0 1 -3.17 Z m -15 -87.46 A 3.46 3.46 0 1 0 89.35 33 A 3.46 3.46 0 0 0 92.81 36.41 Z M 112.6 143.74 l -4.81 -19.87 c -0.53 -2.18 -1.24 -5.76 -1.59 -8 l -2.65 -16.77 l -1 1.38 a 25 25 0 0 0 -3 6.3 l -1 3.52 l 4.07 10.46 c 0.81 2.08 2 5.5 2.7 7.63 l 5.75 18 a 1.12 1.12 0 0 0 0.31 0.54 l 0.1 -0.07 A 3.38 3.38 0 0 0 112.6 143.74 Z m 0 0 l -4.81 -19.87 c -0.53 -2.18 -1.24 -5.76 -1.59 -8 l -2.65 -16.77 l -1 1.38 a 25 25 0 0 0 -3 6.3 l -1 3.52 l 4.07 10.46 c 0.81 2.08 2 5.5 2.7 7.63 l 5.75 18 a 1.12 1.12 0 0 0 0.31 0.54 l 0.1 -0.07 A 3.38 3.38 0 0 0 112.6 143.74 Z m 0 0 l -4.81 -19.87 c -0.53 -2.18 -1.24 -5.76 -1.59 -8 l -2.65 -16.77 l -1 1.38 a 25 25 0 0 0 -3 6.3 l -1 3.52 l 4.07 10.46 c 0.81 2.08 2 5.5 2.7 7.63 l 5.75 18 a 1.12 1.12 0 0 0 0.31 0.54 l 0.1 -0.07 A 3.38 3.38 0 0 0 112.6 143.74 Z m 0 0 l -4.81 -19.87 c -0.53 -2.18 -1.24 -5.76 -1.59 -8 l -2.65 -16.77 l -1 1.38 a 25 25 0 0 0 -3 6.3 l -1 3.52 l 4.07 10.46 c 0.81 2.08 2 5.5 2.7 7.63 l 5.75 18 a 1.12 1.12 0 0 0 0.31 0.54 l 0.1 -0.07 A 3.38 3.38 0 0 0 112.6 143.74 Z"></path>
                            </clipPath>
                        </defs>
                        <image width="200" height="200" clip-path="url(#recorte)" xlink:href="https://picsum.photos/id/135/200/200" >
                    </svg>

                   
                    

                   

                </div>
            </div>
        </section>
        <footer class="container border-top">
            <div class="row pt-3">
                <div class="col">
                    <!--recuerden cambiar el "#" por los vínculos correspondientes-->
                    <p class="d-flex justify-content-between align-items-center small"><a href="https://github.com/TomasHernandezMarti">Tomás Hernández</a> <a href="#">AUD5V0010</a></p>
                </div>
            </div>
        </footer>
        <!--con el siguiente script escondo el nav fijo según avance del scroll -->
        <script>
            var altura = document.getElementById("fondo-con-imagen").offsetHeight;
            window.addEventListener("scroll", (event) => {
                let scroll = this.scrollY;
                console.log(scroll);
                var element = document.getElementsByTagName("nav")[0];
                if (scroll > altura) {
                    element.classList.add("d-none");
                } else {
                    element.classList.remove("d-none");
                }
            });
        </script>
        <!--con el siguiente script voy a buscar la biblioteca Chart.js-->
        <script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/3.5.1/chart.min.js"
            integrity="sha512-Wt1bJGtlnMtGP0dqNFH1xlkLBNpEodaiQ8ZN5JLA5wpc1sUlk/O5uuOMNgvzddzkpvZ9GLyYNa8w2s7rqiTk5Q=="
            crossorigin="anonymous"
            referrerpolicy="no-referrer"
        ></script>
        <!--con el siguiente script voy a buscar datos a un JSON y con ellos construyo un gráfico de barras-->
        <script>
            fetch("https://myjson.dit.upm.es/api/bins/poz")
                .then((response) => response.json())
                .then((poblacion) => {
                    console.log(poblacion);
                    var lasRegiones = [],
                        losHombres = [],
                        lasMujeres = [],
                        laMasculinidad = [];

                    poblacion.forEach((d) => {
                        lasRegiones.push(d.region);
                        losHombres.push(d.hombres);
                        lasMujeres.push(d.mujeres);
                        laMasculinidad.push(d.IndiceMasculinidad);
                    });

                    new Chart(document.getElementById("misBarritas").getContext("2d"), {
                        type: "bar",
                        data: {
                            labels: lasRegiones,
                            datasets: [
                                {
                                    data: losHombres,
                                    backgroundColor: "#0f4392",
                                    label: "Hombres",
                                },
                                {
                                    data: lasMujeres,
                                    backgroundColor: "#ff4949",
                                    label: "Mujeres",
                                },
                            ],
                        },
                        options: {
                            scales: {
                                y: {
                                    ticks: {
                                        callback: function (numero) {
                                            return numero.toLocaleString("es-CL");
                                        },
                                    },
                                },
                            },
                            plugins: {
                                title: {
                                    display: true,
                                    text: "POBLACIÓN: POR SEXO Y REGIONES, CENSO 2017",
                                },
                            },
                        },
                    });



 new Chart(document.getElementById("misBarritasDOS").getContext("2d"), {
                        type: "line",
                        data: {
                            labels: lasRegiones,
                            datasets: [
                                {
                                    data: laMasculinidad,
                                    backgroundColor: "rgba(15, 67, 146, .15)" ,



                                    borderColor: "#0f4392",
                                    borderWidth: 1.5,
                                     label: "Indice de Masculinidad",


                                },
                               
                            ],
                        },
                        options: {
                            scales: {
                                y: {
                                    ticks: {

                                        callback: function (numero) {
                                            return numero.toLocaleString("es-CL");
                                        },
                                    },
                                },
                            },
                            plugins: {
                                title: {
                                    display: true,
                                    text: "Indice de masculinidad por región, CENSO 2017",
                                },
                            },
                        },
                    });






          })
                .catch((error) => console.log("¡PLW!", error));



        </script>
    </body>
</html>